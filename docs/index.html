<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>QuantaraX Composite Signals</title>

  <!-- PWA manifest & theme color -->
  <link rel="manifest" href="./manifest.json"/>
  <meta name="theme-color" content="#4B5563"/>
  <link rel="icon" href="./logo-192.png" sizes="192x192"/>
</head>
<body style="font-family:sans-serif;text-align:center;margin-top:4rem;">

  <h1>QuantaraX Composite Signals</h1>
  <p>
    Welcome!<br/>
    <a id="launch"
       href="https://share.streamlit.io/karthikgraju/quantarax-signal-engine/main/app.py">
      🔗 Launch Live Streamlit App
    </a>
  </p>

  <script>
    // 1️⃣ Service‐Worker registration
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () =>
        navigator.serviceWorker
                 .register('./service-worker.js')
                 .then(reg => console.log('SW registered:', reg.scope))
                 .catch(err => console.error('SW failed:', err))
      );
    }

    // 2️⃣ iOS PWA link fix
    if (window.navigator.standalone) {
      document.getElementById('launch').addEventListener('click', e => {
        e.preventDefault();
        window.location = e.target.href;
      });
    }
  </script>

</body>
</html>
